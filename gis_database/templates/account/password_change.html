{% extends "_base.html" %}
{% load i18n %}
{% load widget_tweaks %}

{% block content %}
<div class="min-h-[80vh] flex flex-col items-center justify-center px-4">
    <div class="max-w-md w-full card bg-base-100 shadow-2xl border border-base-200 overflow-hidden">
        
        {# Brand Header #}
        <div class="p-8 pb-0 text-center">
            <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                </svg>
            </div>
            <h2 class="text-3xl font-black tracking-tighter text-primary">Update Passkey</h2>
            <p class="text-[10px] font-black uppercase tracking-[0.2em] opacity-40 mt-2">Modify Security Credentials</p>
        </div>

        <div class="card-body p-8">
            <form method="post" action="{% url 'account_change_password' %}" class="space-y-4">
                {% csrf_token %}

                {% for field in form %}
                    <div class="form-control w-full">
                        <label class="label py-1">
                            <span class="label-text text-[10px] font-black uppercase tracking-widest opacity-60">{{ field.label }}</span>
                        </label>
                        {% render_field field class="input input-bordered w-full font-bold focus:border-primary border-2 h-14" placeholder="••••••••" %}
                        {% if field.errors %}
                            <label class="label">
                                <span class="label-text-alt text-error font-bold">{{ field.errors|first }}</span>
                            </label>
                        {% endif %}
                    </div>
                {% endfor %}

                <div class="pt-4">
                    <button type="submit" class="btn btn-primary btn-lg w-full font-black text-lg h-16 rounded-xl shadow-xl shadow-primary/20">
                        Confirm Re-initialization
                    </button>
                    <a href="{% url 'dashboard' %}" class="btn btn-ghost btn-sm w-full mt-4 font-bold opacity-50">
                        Abort Changes
                    </a>
                </div>
            </form>
        </div>

        {% include "components/footer.html" %}
    </div>
</div>
{% endblock %}