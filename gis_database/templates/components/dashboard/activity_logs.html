<div class="card bg-neutral shadow-sm p-4 w-full h-full">
    <h3 class="text-lg text-neutral-content font-black mb-5 uppercase">Recent Activities</h3>
    <div class="grid grid-cols-1 gap-2 text-xs">
        {% for activity in file_activities|slice:'4' %}
            <div class="card bg-base-100 p-2 shadow-inner">
                <div class="flex justify-between items-center mb-1">
                    <h4 class="text-xs font-bold text-gray-700">
                        {% if activity.file.project.name %}
                            {{ activity.file.project.name }}
                        {% else %}
                            {{ activity.project_name_snapshot }}
                        {% endif %}
                    </h4>
                    <span class="text-gray-400">{{ activity.created_at|date:'M d, H:i' }}</span>
                </div>
                <div class="text-xs text-gray-600 mb-1">{{ activity.action }}</div>
                <div class="text-xs font-semibold text-gray-800">
                    {% if activity.file %}
                        {{ activity.file.name }}
                    {% elif activity.file_name_snapshot %}
                        {{ activity.file_name_snapshot }}
                    {% endif %}
                </div>
            </div>
        {% empty %}
            <div class="card bg-base-100 p-2 text-center text-gray-500 text-xs shadow-inner">No recent activity found.</div>
        {% endfor %}
    </div>
</div>
