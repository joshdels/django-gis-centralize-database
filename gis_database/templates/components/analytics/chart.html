{% extends "_base.html" %}
{% load static %}
{% block content %}
    <div class="card bg-base-100 shadow-sm space-y-4 p-5 h-full flex flex-col overflow-hidden">
        <h3 class="font-black text-2xl tracking-tighter uppercase">Chart</h3>
        <div class="flex justify-between items-end px-1 mb-1 flex-none">
            <div class="flex gap-3">
                <select id="chart-type-selector"
                        class="select select-bordered select-sm font-black uppercase h-8 text-[10px]">
                    <option value="doughnut">Pie</option>
                    <option value="bar">Bar</option>
                </select>
                <select id="y-axis-selector"
                        class="select select-bordered select-xs font-black uppercase h-8 text-[10px]"
                        style="display:none">
                    <option value="" disabled selected>Select Y-axis (numeric)</option>
                </select>
            </div>
        </div>
        <div class="relative flex-1 min-h-0 w-full flex items-center justify-center">
            <div class="w-full h-full">
                <canvas id="pieChart"></canvas>
            </div>
            <div id="chart-placeholder"
                 class="absolute inset-0 z-10 flex items-center justify-center bg-base-100">
                <div class="card bg-base-200 p-10 border border-base-300 w-full">
                    <div class="flex flex-col items-center gap-4 opacity-60">
                        <p class="font-black uppercase text-[10px] tracking-widest text-center leading-relaxed">
                            Please select an attribute (X-axis)
                            <br>
                            from the Data Panel
                            <span class="block mt-1 opacity-60 font-bold">— and for Y-axis for Bar —</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {{ geojson_data|json_script:"geojson-data" }}
{% endblock %}
