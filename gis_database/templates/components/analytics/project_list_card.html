{# --- THE WRAPPER --- #}
<div class="relative group">
    
    {# --- THE CAROUSEL --- #}
    <div id="project-carousel" class="carousel carousel-center bg-base-300 rounded-box w-full p-4 gap-4 scroll-smooth">
        {% for project in uploads %}
            {# Mobile: 85% width | Desktop: ~33% width #}
            <div id="project-{{ forloop.counter }}" class="carousel-item w-[85%] md:w-[calc(33.333%-11px)] min-w-[280px]">
                
                {# --- THE CARD --- #}
                <div class="card bg-base-100 w-full shadow-sm">
                    <div class="card-body p-6">
                        <div class="flex justify-between items-start mb-2">
                            <h2 class="font-black text-lg">{{ project.name }}</h2>
                        </div>

                        <div class="card-actions mt-4">
                            <a href="{% url 'file:project-detail' project.pk %}" class="btn btn-primary btn-sm btn-block font-black uppercase text-sm">Manage</a>
                        </div>
                    </div>
                </div>

            </div>
        {% endfor %}
    </div>

    {# --- FIXED NAVIGATION BUTTONS (DESKTOP ONLY) --- #}
    <div class="absolute left-2 right-2 top-1/2 hidden md:flex -translate-y-1/2 transform justify-between pointer-events-none">
        <button 
            onclick="document.getElementById('project-carousel').scrollBy({left: -320, behavior: 'smooth'})" 
            class="btn btn-circle btn-neutral shadow-2xl border-white/10 pointer-events-auto opacity-0 group-hover:opacity-100 transition-opacity">
            ❮
        </button>
        <button 
            onclick="document.getElementById('project-carousel').scrollBy({left: 320, behavior: 'smooth'})" 
            class="btn btn-circle btn-neutral shadow-2xl border-white/10 pointer-events-auto opacity-0 group-hover:opacity-100 transition-opacity">
            ❯
        </button>
    </div>

</div>