<dialog id="addMemberModal" class="modal">
    <div class="modal-box">
        <h3 class="font-bold text-lg mb-4">Add Member</h3>
        <div class="relative">
            <input type="text"
                   name="q"
                   placeholder="Search username or email..."
                   class="input input-bordered w-full"
                   hx-get="{% url 'search_users' project.id %}"
                   hx-trigger="keyup changed delay:400ms"
                   hx-target="#search-results"
                   hx-swap="innerHTML">
            <div id="search-results"
                 class="absolute bg-base-100 shadow-lg rounded-lg w-full mt-1 overflow-y-auto z-50"></div>
        </div>
        <form method="POST"
              action="{% url 'add_member' project.id %}"
              id="add-member-form">
            {% csrf_token %}
            <input type="hidden" name="username" id="selected-username">
        </form>
        <div class="modal-action">
            <form method="dialog">
                <button class="btn">Close</button>
            </form>
        </div>
    </div>
</dialog>



<script>
function selectUser(username) {
    document.getElementById("selected-username").value = username;
    document.getElementById("add-member-form").submit();
}
</script>
